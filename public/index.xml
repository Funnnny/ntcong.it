<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>CongNT</title>
    <link>http://blog.ntcong.it/</link>
    <description>Recent content on CongNT</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>ntcong.it@gmail.com (Cong Nguyen)</managingEditor>
    <webMaster>ntcong.it@gmail.com (Cong Nguyen)</webMaster>
    <lastBuildDate>Tue, 03 May 2016 01:43:07 +0700</lastBuildDate>
    <atom:link href="http://blog.ntcong.it/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Forensics:For2 Google&#39;s CTF Writeup</title>
      <link>http://blog.ntcong.it/post/for2-google-ctf-write-up/</link>
      <pubDate>Tue, 03 May 2016 01:43:07 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/for2-google-ctf-write-up/</guid>
      <description>&lt;p&gt;I just started my journey in information security for a while, my forensic skills is some what non-existent, so I&amp;rsquo;m pretty excited when I can solve a decent forensic problem in a CTF (that&amp;rsquo;s why I need to write about it right away).&lt;br /&gt;
So, I can solve some Web challenges, a plaintext IRC log extraction, and move myself up in the scoreboard a little. That&amp;rsquo;s when I tried to see the challenge other people around me were solving. And I think maybe I can solve this (it helps a lot since I thought about giving up several times, also a problem I need to fix myself). This is how a newbie solve the problem.&lt;/p&gt;

&lt;p&gt;The challenge is &lt;a href=&#34;https://capturetheflag.withgoogle.com/challenges/forensics&#34;&gt;here&lt;/a&gt;. It&amp;rsquo;s a simple pcap file, Wireshark tells us it&amp;rsquo;s USB protocol, I looked down a bit and saw a &amp;ldquo;GET DESCRIPTOR&amp;rdquo; request/response, it said &amp;ldquo;Logitech Optical Mouse&amp;rdquo;. It&amp;rsquo;s must be an USB mouse then.&lt;br /&gt;
The rest of the traffic is USB Interrupt, so the mouse is doing something. I used Python with dpkt to read the pcap file and extract the information.
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;pcap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dpkt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pcap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Reader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pcap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;irp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]))&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;binascii&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hexlify&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;irp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;1b0060fc790280faffff&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;print&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;binascii&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hexlify&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;irp is the USB pcap header length plus IRP ID, the USB Interrupt packet has length equals 1b00. The raw data is in this form: &amp;ldquo;00(or 1) aa bb 00&amp;rdquo;, I search for USB mouse data and found &lt;a href=&#34;http://www.usbmadesimple.co.uk/ums_5.htm&#34;&gt;this&lt;/a&gt;. So first 8 bits are the mouse 1-5 button, two next 8 bits are for xx and yy movement, and last 8 bits are mouse wheel.&lt;br /&gt;
There&amp;rsquo;s only 00 and 01 for first 8 bit, 01 is a left click (or whatever). We just need to track the mouse movement, record when there&amp;rsquo;s a click. X and Y coordinate is straightforward: value higher than 128 mean it&amp;rsquo;s moving left/down, lower than 128 mean it&amp;rsquo;s moving right/up. You don&amp;rsquo;t need to be right about left/down right/up, just make sure you define a rule and flip/rotate the result as needed.&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;move&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vel&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;127&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;xx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;yy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;click&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;:&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;xx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;move&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;yy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;move&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;click&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;01&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;Run this and we will get the list of click coordinate. Let&amp;rsquo;s get this on a graph, real man uses gnuplot:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gnuplot -e &amp;quot;set output &#39;click.png&#39;;plot &#39;click_coordinates.txt&#39;&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;My default gnuplot terminal is png, the result image is flipped, and it&amp;rsquo;s easy to fix&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://blog.ntcong.it/img/for2/click.png&#34; alt=&#34;Result&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Poor cat!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>XSS vulnerabilities on VnExpress</title>
      <link>http://blog.ntcong.it/post/xss-with-vnexpress/</link>
      <pubDate>Tue, 22 Mar 2016 16:20:20 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/xss-with-vnexpress/</guid>
      <description>

&lt;h1 id=&#34;xss-on-e-vnexpress-net:3b2adbfb4f5b591fc123309bb7eb9de1&#34;&gt;XSS on e.vnexpress.net&lt;/h1&gt;

&lt;p&gt;Recently I found two XSS vulnerabilities on vnExpress website. It all begins with the newly introduced English version of VnExpress, and I didn&amp;rsquo;t have to spend a lot of time to find the search box wasn&amp;rsquo;t escaped properly. Just do a search with &amp;ldquo;&amp;gt; will reveal this.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://blog.ntcong.it/img/vne/vne1.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;XSS on e.VNE&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;Pretty serious problem if anyone still doesn&amp;rsquo;t care about escaping user-input, especially on a search box. Luckily, a normal XSS payload will only works on Firefox, because Chrome and IE have XSS Auditor for a while now (you can still bypass it, which I will tell you later). Also because the site doesn&amp;rsquo;t have user account yet, the best I can do is launching a phishing attack (I jut did a PoC to demo what I can do, not really attack anyone).&lt;/p&gt;

&lt;p&gt;Phishing is also a serious problem for a big website like VnExpress. People trained to trust VnE and will do most thing the website told them to (like give Facebook&amp;rsquo;s password). So it&amp;rsquo;s pretty simple, I can inject my script in the search page already, I load the main site with jQuery.get, replace the top post with a fake Facebook login, replace the HTML content, and then use window.history.pushState to replace the address bar. This way the site will display the main page with its url, not the search page.&lt;/p&gt;

&lt;p&gt;But it&amp;rsquo;s still not very good since it only works on Firefox, so I did a quick look at the HTML source code and found this&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strKeyWord&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;blData&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Why they include the search parameter on a Javascript code, without any protection is beyond me, but this will bypass all the protection XSS Auditor provides to you, because it&amp;rsquo;s not a normal XSS payload anymore, any text you inputed in will run on javascript directly. The new payload will look like this.
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;;alert(1);&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;And it will not be detected by Chrome or IE&amp;rsquo;s XSS Auditor. Extensible is a must, so I load the script from outside
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;;jQuery.getScript(&amp;quot;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//js.js&amp;quot;) .done(function() {});&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;Pretty neat, huh?&lt;/p&gt;

&lt;p&gt;What should I do to prevent it? Well XSS is never a simple problem to begin with, but at least never ever trust anything the user input, escape it, whitelist the character, make sure they don&amp;rsquo;t input any special characacter, because no one want to search an article with &amp;ldquo;;&amp;rdquo;@(alert(1));&amp;rdquo; anyway. And NEVER use the input directly onto your javascript, it is very dangerous.&lt;/p&gt;

&lt;h1 id=&#34;xss-on-vnexpress-net:3b2adbfb4f5b591fc123309bb7eb9de1&#34;&gt;XSS on vnexpress.net&lt;/h1&gt;

&lt;p&gt;Then I thought, if they fucked up this bad on their new site, the main site should have some weakness as well. One thing they did a little better is, the main search box is properly escaped, but I noticed they put the whole URL onto the Time and Sort filter, so maybe something will not be escaped, like the &amp;ldquo;search_f=&amp;rdquo; parameter.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://timkiem.vnexpress.net/?search_f=%22%3E&amp;amp;q=xss&amp;amp;cate_code=&amp;amp;media_type=all&amp;amp;latest=&amp;amp;fromdate=0&amp;amp;todate=0&amp;amp;date_format=all
&lt;/code&gt;&lt;/pre&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://blog.ntcong.it/img/vne/vne2.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;XSS on VNE&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;This time there&amp;rsquo;s no javascript bug on this page, but working only with Firefox is no fun, let&amp;rsquo;s find out how to bypass Chrome.&lt;/p&gt;

&lt;p&gt;So Chrome did a great job to find a XSS payload on the URL, and prevent it from running. But there&amp;rsquo;s a flaw: it won&amp;rsquo;t stop an invalid XSS payload, like a script without closing tag. And the HTML parse won&amp;rsquo;t care about the content inside the &lt;script&gt; tag, as long as you include a src attribute. This payload requires you to have a closing &lt;/script&gt; tag, which most website nowaday have to execute javascript after the main content finishes loading. The payload looks like this&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;alert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;The result html will looks like this: &amp;lt;script src=&amp;ldquo;data:,alert(1)//&amp;amp;q=xss&amp;hellip;.&amp;ldquo;&amp;gt;[a lot of HTML]&amp;lt;/script&amp;gt;. Andddd it runs on Chrome. And also it&amp;rsquo;s pretty funny to see VnExpress do some weird shit with their site, results in the alert(1) display several times when the page loads (view count increase maybe?)&lt;/p&gt;

&lt;p&gt;Kudos to VnExpress for fixing the bug pretty fast after I reported it to them. But I think they should do something better than having a XSS vuln on the main search box in the first place.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How VCB OTP works and How not to do it</title>
      <link>http://blog.ntcong.it/post/how-vcb-do-otp-or-how-not-to-do-it/</link>
      <pubDate>Fri, 24 Apr 2015 17:16:23 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/how-vcb-do-otp-or-how-not-to-do-it/</guid>
      <description>

&lt;h1 id=&#34;the-app:facd3c79284655dfd0d0ccd908208d13&#34;&gt;The App&lt;/h1&gt;

&lt;p&gt;So recently Vietcombank released a Smart OTP app for Android (not so recently anymore since I&amp;rsquo;m holding up the post for a while). They seem to be the first bank to release a app-based OTP, so let&amp;rsquo;s take a look at how they did it.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m not an Android programmer by any mean, so it takes a while to be able to understand the code and to collect the tools, you may have better results if you are. And also I&amp;rsquo;m a terrible programmer, so just take my words with a grain of salt.&lt;/p&gt;

&lt;p&gt;Anyway, the process of decompiler is pretty easy:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Use apktool to extract the dex file and Android data files&lt;/li&gt;
&lt;li&gt;Use a dex2jar decompiler to convert classes.dex to a jar file&lt;/li&gt;
&lt;li&gt;Use a general jar decompiler to convert it back to java files&lt;/li&gt;
&lt;li&gt;Open in Eclipse and setup debug environment&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you want to decompiler yourself, you might need to do a little homework.&lt;/p&gt;

&lt;h1 id=&#34;the-problem:facd3c79284655dfd0d0ccd908208d13&#34;&gt;The Problem&lt;/h1&gt;

&lt;p&gt;First, you have to register your device. In the a/a.java file, they call some webservice from smartotp.vietcombank.com.vn. You will send your number, Mac address and time, and also your confirmation number. Then they will send you back an otp master key. I will trust them to do the right thing and generate that key properly. So let&amp;rsquo;s jump right at the smartotp website.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://blog.ntcong.it/img/vcb_web.png&#34; alt=&#34;VCB Web&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Woa, a big red certificate icon: not a good sign. And they list all the web service methods and HOW to call them. &lt;strong&gt;Classic .Net Service1.asmx :)&lt;/strong&gt;. You can study further to know how they encrypt and send the request, or you can have fun just by repeatedly sending confirmation and lock your friends from register.&lt;/p&gt;

&lt;p&gt;After that I register with the service, and then setup the passcode. Pretty good practice right? You have OTP combined with passcode.
Not that simple, turned out they save app&amp;rsquo;s data in /data/data/vietcombank&amp;hellip;/shared_prefs. The file has some pretty suspicious variables: &lt;strong&gt;pHashPassCode&lt;/strong&gt; and &lt;strong&gt;pX_FACTOR&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Look for the pHashPassCode variable and see how they use it: they merge it with device&amp;rsquo;s Mac address, and md5 the result. Luckily, it&amp;rsquo;s just a 4 numbers passcode, we can brute force it. Or better, set it to &amp;ldquo;1234&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s pretty sad to see how a big company can&amp;rsquo;t even learn to use the passcode right. What the point of a passcode when people can just replace it with another? Generally we encrypt all the variable or the preference file itself with a key derived from that passcode. Technically someone can still bruteforce if they know the algorithm, but there are methods to prevent it, and even then it&amp;rsquo;s so much better.&lt;/p&gt;

&lt;p&gt;And last, let&amp;rsquo;s take a look at the OTP itself. It seems to be a &lt;em&gt;complicated&lt;/em&gt; algorithm:&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;str1: just a floor of time/80 (which means the otp will change each 80s)&lt;/li&gt;
&lt;li&gt;D: your phone number&lt;/li&gt;
&lt;li&gt;key: the transaction key in VCB&amp;rsquo;s e-banking&lt;/li&gt;
&lt;li&gt;L: phone&amp;rsquo;s mac address&lt;/li&gt;
&lt;li&gt;y: the secret&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You might think I forgot the pX_FACTOR above, but no, the pX_FACTOR is y-the-secret here.&lt;/p&gt;

&lt;p&gt;And a: it&amp;rsquo;s just a md5 function&lt;/p&gt;

&lt;p&gt;So, you don&amp;rsquo;t even need the passcode, just get pX_FACTOR and use it at your PC. Android even have a helpful command: run-as package so you can easily extract the code:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;adb shell run-as vietcombank... cat /data/data/vietcombank.../shared_prefs/...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Convenience, right?&lt;/p&gt;

&lt;h1 id=&#34;closing:facd3c79284655dfd0d0ccd908208d13&#34;&gt;Closing&lt;/h1&gt;

&lt;p&gt;I did this nearly two months ago, so something might be missing here. Also I did not know anything better so don&amp;rsquo;t mock me if I&amp;rsquo;m wrong:)&lt;/p&gt;

&lt;p&gt;But anyway, here the problem with VCB:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Don&amp;rsquo;t use half-assed security implementation. Passcode is nice, but if you decided to implement passcode, do it right. Don&amp;rsquo;t just add passcode for the sake of passcode, let&amp;rsquo;s the user use a better alternative (like the OS&amp;rsquo;s screen lock).&lt;/li&gt;
&lt;li&gt;Next time secure your web API, it&amp;rsquo;s not a good thing to expose your web service like that.&lt;/li&gt;
&lt;li&gt;I think the secret (or the OTP master key) is a md5 string. Why use a broken algorithm instead of a better implementation? The secret is using just as a string, you can use any hash function for it.&lt;/li&gt;
&lt;li&gt;And the OTP: well, it&amp;rsquo;s your choice to do it yourself (or because I&amp;rsquo;m stupid and I don&amp;rsquo;t recognize the standard here :) ). But still, don&amp;rsquo;t use md5. No one charged you for any other methods.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I should invest more time into this app, but it&amp;rsquo;s just an OTP generator (and there&amp;rsquo;s standard out there), so why bother :)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Breaking Chungta (or VNExpress) captcha with Google&#39;s OCR</title>
      <link>http://blog.ntcong.it/post/cracking-chungta-vn-captcha-with-google-ocr/</link>
      <pubDate>Thu, 18 Dec 2014 10:05:51 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/cracking-chungta-vn-captcha-with-google-ocr/</guid>
      <description>

&lt;h1 id=&#34;the-captcha:02a117938cf5deaed3c0cd35f6f81d2c&#34;&gt;The Captcha&lt;/h1&gt;

&lt;p&gt;VNExpress, Chungta.vn, ngoisao.net, they&amp;rsquo;re all using a simple Captcha system to prevent bot voting/submit email. But unfortunately, the system is so easy, we can get around it in five minutes. (So, the voting poll, and all the competition based on voting in VNExpress is useless)&lt;/p&gt;

&lt;p&gt;Recently, chungta.vn announced a new beta site with new design. Let&amp;rsquo;s take a look into it to know, if the internal is still the same.&lt;/p&gt;

&lt;p&gt;Every site has a contact us form: &lt;a href=&#34;http://beta.chungta.vn/contactus&#34;&gt;http://beta.chungta.vn/contactus&lt;/a&gt;, and let&amp;rsquo;s face it, from the look, this captcha is so easy to crack: &lt;img src=&#34;http://blog.ntcong.it/img/captcha.png&#34; alt=&#34;easy&#34; /&gt;&lt;/p&gt;

&lt;p&gt;So, it seems that they generate an ID from the server side, generate an image and send back that ID and image to the client. The form have an hidden input with the id, and when you press submit, it will just send back the id in &amp;ldquo;captchaID&amp;rdquo; and the input text with &amp;ldquo;txtCode&amp;rdquo;&lt;/p&gt;

&lt;p&gt;Problem: you can request the image multiple times.&lt;/p&gt;

&lt;p&gt;For most Captcha systems, you can request the image only once. The next time you request the image, it will be replaced by another text. It&amp;rsquo;s an surprisingly easy way to make the life harder for some basic bots (although not that hard).&lt;/p&gt;

&lt;p&gt;So you can download the file, store it somewhere, use OCR on it, do some other transformation, and compare the result. If it does not give a acceptable accurate answer, I can just request another (and do it cheap). They are generous enough to give me a link to do it: &lt;a href=&#34;http://beta.chungta.vn/captcha/show2&#34;&gt;http://beta.chungta.vn/captcha/show2&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;break-it-with-python-and-google-tesseract:02a117938cf5deaed3c0cd35f6f81d2c&#34;&gt;Break it with Python and Google Tesseract&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://code.google.com/p/tesseract-ocr/&#34;&gt;Google Tesseract&lt;/a&gt; is a very popular OCR engine, with a very accurate result. Combined with Python (because I know it) and PIL, you can do a lot of different thing with it.&lt;/p&gt;

&lt;p&gt;Install everything is easy, if you&amp;rsquo;re using Windows, just download tesseract, python and PIL pre-built binary file (aka .exe) and install. If you&amp;rsquo;re using Linux, install it with your package manager:&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$sudo&lt;/span&gt; apt-get install tesseract-ocr
&lt;span class=&#34;nv&#34;&gt;$pip&lt;/span&gt; install pytesseract
&lt;span class=&#34;nv&#34;&gt;$pip&lt;/span&gt; install pillow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So what do we have to do? First we get a captcha with the &lt;a href=&#34;http://beta.chungta.vn/captcha/show2&#34;&gt;above link&lt;/a&gt;, the response is just a json text file. Then we extract the image id, the image above has id:&amp;ldquo;22b3fefb9d316f98489085252bd0d896&amp;rdquo;. Then we download the image by append the id to the url: &amp;ldquo;&lt;a href=&#34;http://beta.chungta.vn/captcha/viewimg/id/&amp;quot;&#34;&gt;http://beta.chungta.vn/captcha/viewimg/id/&amp;quot;&lt;/a&gt;. And last, some magic:&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;PIL&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Image&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pytesseract&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;print&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pytesseract&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;image_to_string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;captcha.png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and the result is: &amp;lsquo;5y47&amp;rsquo;&lt;/p&gt;

&lt;h1 id=&#34;wait-is-it-that-simple:02a117938cf5deaed3c0cd35f6f81d2c&#34;&gt;Wait, is it that simple?&lt;/h1&gt;

&lt;p&gt;It is, it showed how ridiculous easy the captcha is. Now we just need to pre-fill the POST data with the id and captcha text, and also the mail content, and what left to do is automated-contact-us-spam-bot.&lt;/p&gt;

&lt;p&gt;VNExpress&amp;rsquo; captcha is a little harder, you will need to pre-process the image. How? I will give a hint:&lt;/p&gt;

&lt;p&gt;after using Image.open to open the file, you have to:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;First, convert the image to RGB, then load the image into an array:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;img&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;captcha.png&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;img&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;img&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;convert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;RGB&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;img&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Then, we flip the color for each pixel: set black for color blacker than a little black, and white for others.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;xrange&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;img&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]):&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;xrange&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;img&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]):&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;should&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;be&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;black&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;should&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;be&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;white&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# and save&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;img&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;save&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;output.png&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;And then you can just use pytesseract&amp;rsquo;s image_to_string. Sometimes I have to scale the image, and then do a simple anti-alias. But if you implement a good brute-force bot, you can just retry a few times, because the success rate is high.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ll leave the rest for your imagination. You can send a few thousand contact emails to say hello, or do some voting manipulation for science.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Goodbye Blogspot, Hello Hugo</title>
      <link>http://blog.ntcong.it/post/goodbye-blogspot-hello-hugo/</link>
      <pubDate>Mon, 08 Dec 2014 11:22:36 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/goodbye-blogspot-hello-hugo/</guid>
      <description>

&lt;h1 id=&#34;goodbye-any-traditional-blogging-system:6bf65216e2bb0f20637aa35fde252b26&#34;&gt;Goodbye (any) traditional blogging system&lt;/h1&gt;

&lt;p&gt;I used Wordpress for like 8 years, wrote some plugins myself (some that I already published), eventually got tired of managing my own hosting, and switched to wordpress.com. Then Wordpress.com want 15 dollar a year just for custom domain feature, and I switched to Blogspot. I happily used Blogspot for a while, but even so, the experience is not that great. Some example:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Bloated: there are so many features I don&amp;rsquo;t use, and the feature I use, I have to code it in manually.&lt;/li&gt;
&lt;li&gt;Editor: I hate the WYSIWYG editor, it&amp;rsquo;s bloated (again) with the non-standard tag, bbcode. It&amp;rsquo;s easy to break with my horrible Internet. And it doesn&amp;rsquo;t behave the way I want it to. I wanted to use Markdown, but write in Markdown, then convert to HTML and copy to the WYSIWYG editor, it&amp;rsquo;s not a pleasant way.&lt;/li&gt;
&lt;li&gt;Ugly Themes: It seems that no one want to use a minialist theme with Blogspot (or even Wordpress). I&amp;rsquo;m happy to remove away most features for a minimalistic approach, but to no avail. Every minimal templates/themes want to retain the most core-feature (which is not a bad thing). I&amp;rsquo;m a horrible designer, I know very little about CSS, so in the end, it&amp;rsquo;s still a problem I had to deal with.&lt;/li&gt;
&lt;li&gt;Bloated website: The website bundle with a lot of useless things: some stupid Google&amp;rsquo;s javascript that I don&amp;rsquo;t bother to read, Google+ js, some other Google&amp;rsquo;s one, then some Google+, a lot of default Blogspot CSS, jQuery, api.js, source code highlighting script&amp;hellip;Every features I added, I had to add some javascript/library too.&lt;/li&gt;
&lt;li&gt;Always online: I used some offline clients, but the trust is: you will never know how your post display until you submit the post. Only to find some problem, and have to fire up the online editor. And the downtime, every person in the world tells me Google&amp;rsquo;s uptime is the best, but I occasionally find some problem with the editor, or the admin interface.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I can make myself a static website, I even had one before I use Wordpress (with a lot of marquee). I don&amp;rsquo;t write much anyway, but again I&amp;rsquo;m a horrible designer, the website would be ugly.&lt;/p&gt;

&lt;p&gt;Then I heard about Jekyll, and then Octopress, and some alternatives like Brunch, Hyde. But nothing catches my attention (maybe because I don&amp;rsquo;t really like Ruby). One day, I read about Hugo and decided it&amp;rsquo;s time to switch.&lt;/p&gt;

&lt;h1 id=&#34;hello-static-website-generator-hugo:6bf65216e2bb0f20637aa35fde252b26&#34;&gt;Hello static website generator (Hugo)&lt;/h1&gt;

&lt;p&gt;I install hugo, build some test page with it, and then deploy the page to Github Pages in like 30 minutes. And I really like it:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Being able to write my post in my editor: I use vim-binding so writing in normal or WYSIWYG editor feels missing something&lt;/li&gt;
&lt;li&gt;I can host my own blog (so I can do whatever I want) and also don&amp;rsquo;t have to manage it, because it integrated nicely with my work flow: Markdown+Git+Github Pages.&lt;/li&gt;
&lt;li&gt;Markdown is amazing, no more weird problem with WYSIWYG.&lt;/li&gt;
&lt;li&gt;No more jQuery, no more google-prettify. Most things that can be done in server, like paginate and syntax highlighting, will be done when you regenerate your post. Less JS dependancy = real minimalistic website&lt;/li&gt;
&lt;li&gt;Go: Go is amazing and you should learn/use it.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The only thing bugs me right now is the lack of themes, and it requires you have some decent knowledge about Go to solve some quirks. But it also give me some reason to tinkering with my setup.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Stripe-CTF Level 1 with Golang</title>
      <link>http://blog.ntcong.it/post/stripe-ctf-level1-with-golang/</link>
      <pubDate>Fri, 07 Feb 2014 17:36:17 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/stripe-ctf-level1-with-golang/</guid>
      <description>

&lt;p&gt;This year&amp;rsquo;s Stripe-CTF brings some interesting things to the table: Cryptocurrency. I&amp;rsquo;ve already known about cryptocurrency and Bitcoin in general, but it&amp;rsquo;s amazing how Bitcoin relates to Git.&lt;/p&gt;

&lt;p&gt;The level is here:&amp;nbsp;&lt;a href=&#34;https://stripe-ctf.com/levels/1&#34;&gt;https://stripe-ctf.com/levels/1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Basically, like Bitcoin, you have to find a block, in this case is a git commit. The commit must have its hash lower than the target difficulty, specified in the file difficulty.txt. You will compete against a bot, and you have to find and submit a block/commit before it does.&lt;/p&gt;

&lt;p&gt;As I&amp;rsquo;m learning Golang, I wrote my miner using it, and managed to bring to 1MHash/s. Some people are going higher, specifically those using OpenCL/GPU to mine.&lt;/p&gt;

&lt;h3 id=&#34;basic:08a8d9808c645f9e5c4f35caf364b6d7&#34;&gt;Basic&lt;/h3&gt;

&lt;p&gt;The first version of my code is very simple. First it will add myself a Gitcoin to the file &amp;ldquo;LEDGER.txt&amp;rdquo;, get the difficulty, and get the required parameters to build the commit. Those tasks will only do once per block found, so any code will work.&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;diff&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;diffString&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;cat&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;difficulty.txt&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;diffString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strconv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ParseInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;diffString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;diff&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;diff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;tree&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;write-tree&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;parent&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;rev-parse&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;HEAD&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;timestamp&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;date&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;+%s&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I calculate diff as a byte array because SHA1 library returned the hash as an array, so I don&amp;rsquo;t have to convert SHA1 everytime; doExec is just a function to run the command and return console output as a string. The commit hash can be calculate by SHA1 the string &amp;ldquo;commit [len_commit]\0[commit_string]&amp;ldquo;. The commit string can be built by this code:&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;baseCommit&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;tree %s\nparent %s\nauthor CTF user &amp;lt;%s@stripe-ctf.com&amp;gt; %s +0000\ncommitter CTF user &amp;lt;%s@stripe-ctf.com&amp;gt; %s +0000\n\nFu[4]ny got a Gitcoin\nnonce 1&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;You should already notice the last &amp;ldquo;nonce 1&amp;rdquo; in the commit string, I will replace it with &amp;ldquo;nonce 2&amp;rdquo; and so on until I find a commit with hash lower than difficulty. It&amp;rsquo;s surprisingly simple:&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;getSHA1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sha1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;baseCommitHash&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;complete&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;goog_259276313&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;complete&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;isHashValid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;diff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;diff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;diff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;After finding a coin, I&amp;rsquo;ll write the commit and push it, I was lazy and just pipe everything to command line. It works but maybe a little slow.&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;pushResult&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;chan&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;done&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;chan&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;sem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Semaphore git command so only one git command at a time&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;c1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;echo&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;getCommit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;c2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;hash-object&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;-t&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;commit&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;--stdin&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;-w&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;c2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Stdin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;StdoutPipe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;c2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Stdout&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Stdout&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sem&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;--hard&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;%x&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;getCommitSHA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;push&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;error&amp;quot;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// done &amp;lt;- true&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// do not stop, just wait for a restart&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Error when push, waiting for miner to restart&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;Then I just loop nonce until I found a coin. I use a result channel to communicate between miner thread and pushResult thread, and a done channel to stop when I find a commit. The bot takes about 10 mins to find a block, with just this version I managed to beat it.&lt;/p&gt;

&lt;h3 id=&#34;optimize-further:08a8d9808c645f9e5c4f35caf364b6d7&#34;&gt;Optimize further&lt;/h3&gt;

&lt;p&gt;After finishing the task, I can join a Gitcoin instance with all players in Stripe-CTF. I knew that I have to optimize it because I can push it only to 200kH/s&lt;/p&gt;

&lt;p&gt;Fortunately, Go has profiling built-in, so I can easily point out that, most of the time my program was waiting for fmt.Sprintf, because I used it to build the commit message.&lt;/p&gt;

&lt;p&gt;So, because the commit is fixed, just the nonce changes, I was able to prebuilt the commit message and the commit hash, just by giving the commit the fixed length and nonce has 16 number. I thought I can create SHA1 with that prebuilt commit and boost the speed of SHA1 function a lot, but I can&amp;rsquo;t, so removing fmt.Sprintf was good for me.&lt;/p&gt;

&lt;p&gt;And by competing with more people, I have to monitor new block, and restart my miner with a new blockchain. I built a channel into the miner, and another gorountine to monitor and send stop signal.&lt;/p&gt;

&lt;p&gt;Once in a while, the miner will check for stop signal and get out of the loop.&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;msg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;msg&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// fmt.Printf(&amp;quot;Miner %d stopped! Last i is %d\n&amp;quot;, begin, i)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;jobOuter&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;The monitor function is pretty straightforward, I have two commit hash, last and current, if last commit has different hash than current commit, I do a git hard reset, and send a stop signal.&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;monitor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;stop&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;chan&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hash&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;newHash&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;rev-parse&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;--short&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;origin/master&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;fetch&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;origin&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;newHash&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;rev-parse&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;--short&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;origin/master&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;newHash&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;doExec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;reset&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;--hard&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;origin/master&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// log.Println(&amp;quot;New block found! Reseting miners!&amp;quot;)&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;stop&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;newHash&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s almost be all, things I can/should do better:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;I have to calculate SHA1 again everytime I change nonce. I should calculate a base SHA1, and feed nonce for each loop. I can&amp;rsquo;t find anyway to do this now, so I choose to ignore.&lt;/li&gt;
&lt;li&gt;Calling git by command line is bad, maybe use a git library. Sometimes a push does matter, so implement it directly with socket might be good (just the push)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I ended the game with 756 point, with several Gitcoins found. It&amp;rsquo;s very hard to find a coin because I only have 1.5MH/s with all my PCs, so I need a lucky moment to get one.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Bitcoin Protocol: The Basic</title>
      <link>http://blog.ntcong.it/post/bitcoin-protocol-the-basic/</link>
      <pubDate>Sun, 19 Jan 2014 12:51:42 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/bitcoin-protocol-the-basic/</guid>
      <description>

&lt;p&gt; bi trc, cc bn  bit th no l cryptocurrency ni chung, v cch hot ng ca n. Tuy nhin bi vit ch r n mt trong nhng im ni nht ca h thng Bitcoin, nu mun tm hiu mt cch chuyn su hn 1 cht, th Bitcoin hot ng nh th no?&lt;/p&gt;

&lt;p&gt;Bi vit nhm phn tch  ngha v phng thch hot ng ca loi tin mt ny. Trc tin, nhc li mt cht v Cryptocurrency&lt;/p&gt;

&lt;h2 id=&#34;1-cryptocurrency-bitcoin:c66977f06cc64c0193b8c0dd0c1bd023&#34;&gt;1. Cryptocurrency/Bitcoin?&lt;/h2&gt;

&lt;p&gt;Cryptocurrency c ch mt loi tin mt tha mn cc iu kin&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Peer-to-peer &amp;amp; Decentralized: khng ph thuc vo bt c mt c nhn, my mc no lm nhim v qun l.&lt;/li&gt;
&lt;li&gt;Digital: tn ti  dng s, khng c mt th hin c th v mt vt l.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Bi v ng tin l khng ph thuc vo bt c ai qun l, v vy vic xc nhn/kim tra mt giao dch cn c thc hin bi cc thnh vin trong h thng (P2P). Qu trnh ny s dng cc thut ton m ha, do  ng tin c gi l cryptocurrency.&lt;/p&gt;

&lt;p&gt;Bitcoin l ng tin u tin p dng cryptocurrency.&lt;/p&gt;

&lt;h2 id=&#34;2-bitcoin-hot-ng-th-no:c66977f06cc64c0193b8c0dd0c1bd023&#34;&gt;2. Bitcoin hot ng th no?&lt;/h2&gt;

&lt;p&gt;Bitcoin, cng nh cryptocurrency ni chung, s dng cc thut ton m ha  xc nhn giao dch, trong qu trnh xc nhn giao dch ny, ngi thc thi thnh cng vic xc nhn mt nhm giao dch, c thng mt s lng tin tng ng, vi Bitcoin(BTC) l 25 ng. S lng tin ny c gim i 1 na sau mi 4 nm, nhm mc ch hn ch s lng BTC ti a l 21 triu.&lt;/p&gt;

&lt;p&gt;Ging nh RFC ca mt protocol, Bitcoin c nh ngha bi cc thnh phn ring l, v cc giao thc  kt ni cc thnh phn li vi nhau, v vy ta s tm hiu Bitcoin bng cch phn tch cc thnh phn ny:&lt;/p&gt;

&lt;h3 id=&#34;a-address:c66977f06cc64c0193b8c0dd0c1bd023&#34;&gt;a. Address&lt;/h3&gt;

&lt;p&gt;Address l mt dy s, di t&amp;nbsp;27-34 k t, bt u bng 1 hoc 3, v d:&amp;nbsp;&lt;strong&gt;13q1kfWwR56AwTxeJoJV8bgRnQ2WYxWiY5&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Address&lt;/strong&gt;&amp;nbsp;c sinh ra rt n gin, enduser to ra 1 cp&lt;a href=&#34;http://en.wikipedia.org/wiki/Public-key_cryptography&#34;&gt; private-public key&lt;/a&gt;, sau  &lt;a href=&#34;https://en.bitcoin.it/wiki/Technical_background_of_Bitcoin_addresses&#34;&gt;hash public key ny bng mt thut ton c sn&lt;/a&gt; to ra Address.&lt;/p&gt;

&lt;h3 id=&#34;b-transaction:c66977f06cc64c0193b8c0dd0c1bd023&#34;&gt;b. Transaction&lt;/h3&gt;

&lt;p&gt;Mt transaction cha cc thng tin sau:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;hash: hash ca ton b thng tin transaction ny, c s dng nh l i din ca transaction&lt;/li&gt;
&lt;li&gt;version number, number of inputs, number of outputs: t ci tn n  gii thch&lt;/li&gt;
&lt;li&gt;lock_time: thi gian m transaction ny thc hin, thng l 0 tc l ngay lp tc&lt;/li&gt;
&lt;li&gt;size&lt;/li&gt;
&lt;li&gt;list of inputs and outputs, trong  mi input v output c nh dng ring bit&lt;/li&gt;
&lt;li&gt;inputs:

&lt;ul&gt;
&lt;li&gt;previous tx: hash ca transaction trc &lt;/li&gt;
&lt;li&gt;index: v tr ca transaction&lt;/li&gt;
&lt;li&gt;scriptSig: &amp;lt;sig&amp;gt; &amp;lt;pubKey&amp;gt;: public key, v signature c sign bi private key v m hash ca transaction trc .&amp;nbsp;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;outputs:

&lt;ul&gt;
&lt;li&gt;value: s tin tnh bng satoshi&lt;/li&gt;
&lt;li&gt;scriptPubKey: on script c dng  redeem s tin ny&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Vy,  thc hin 1 transaction, gi s t Alice n Bob, th 2 bn ny phi lm nhng g ?&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Alice c c address ca Bob  gi ti, y chnh l hash public key ca Bob, Alice sinh ra transaction vi cc thng tin nh trn. Trong , quan trng nht l on scriptCheckSig kia, Alice t vo  hash public key ca Bob. Alice l ngi duy nht cm private key ca mnh, v vy &amp;lt;sig&amp;gt; v &amp;lt;pubKey&amp;gt; kia ch c Alice mi to ra c.&lt;/li&gt;
&lt;li&gt;Alice gi gi tin ny cho ton mng, ton mng bit c v verify Alice  gi cho Bob.&lt;/li&gt;
&lt;li&gt;Bob phi claim s tin ny ti thi im Bob mun tiu s tin ny, chnh l hnh thc Bob to ra 1 transaction mi. Ti thi im , Bob phi chng minh rng, Bob chnh l Bob trong transaction Alice  gi.&lt;/li&gt;
&lt;li&gt;Tng t Alice, Bob to transaction mi, t vo  &amp;lt;sig&amp;gt; v &amp;lt;pubKey&amp;gt; ca mnh, v cc miner s verify cho Bob nh sau:&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;span id=&#34;docs-internal-guid-63637fce-a624-69aa-ca81-923515518b87&#34;&gt;&lt;span style=&#34;color: #434343; font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;div dir=&#34;ltr&#34;&gt;
&lt;table style=&#34;border-collapse: collapse; border: none;&#34;&gt;&lt;colgroup&gt;&lt;col width=&#34;143&#34;&gt;&lt;/col&gt;&lt;col width=&#34;314&#34;&gt;&lt;/col&gt;&lt;col width=&#34;216&#34;&gt;&lt;/col&gt;&lt;/colgroup&gt;&lt;tbody&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;background-color: #f2f2f2; border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt; text-align: center;&#34;&gt;
&lt;span style=&#34;background-color: #f2f2f2; color: #434343; font-family: Arial; font-size: 15px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;Stack&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;background-color: #f2f2f2; border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt; text-align: center;&#34;&gt;
&lt;span style=&#34;background-color: #f2f2f2; color: #434343; font-family: Arial; font-size: 15px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;Script&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;background-color: #f2f2f2; border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt; text-align: center;&#34;&gt;
&lt;span style=&#34;background-color: #f2f2f2; color: #434343; font-family: Arial; font-size: 15px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;Description&lt;/span&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;Empty.&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&amp;lt;sig&amp;gt; &amp;lt;pubKey&amp;gt; OP_DUP OP_HASH160 &amp;lt;pubKeyHash&amp;gt; OP_EQUALVERIFY OP_CHECKSIG&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;scriptSig v scriptPubKey c ghp li&lt;/span&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&amp;lt;sig&amp;gt; &amp;lt;pubKey&amp;gt;&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_DUP OP_HASH160 &amp;lt;pubKeyHash&amp;gt; OP_EQUALVERIFY OP_CHECKSIG&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;y 2 bin const vo stack&lt;/span&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&amp;lt;sig&amp;gt; &amp;lt;pubKey&amp;gt; &amp;lt;pubKey&amp;gt;&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_HASH160 &amp;lt;pubKeyHash&amp;gt; OP_EQUALVERIFY OP_CHECKSIG&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_DUP: duplicate top stack&lt;/span&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&amp;lt;sig&amp;gt; &amp;lt;pubKey&amp;gt; &amp;lt;pubHashA&amp;gt;&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&amp;lt;pubKeyHash&amp;gt; OP_EQUALVERIFY OP_CHECKSIG&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_HASH160: hash top stack&lt;/span&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&amp;lt;sig&amp;gt; &amp;lt;pubKey&amp;gt; &amp;lt;pubHashA&amp;gt; &amp;lt;pubKeyHash&amp;gt;&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_EQUALVERIFY OP_CHECKSIG&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1.15; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;y bin const vo stack&lt;/span&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&amp;lt;sig&amp;gt; &amp;lt;pubKey&amp;gt;&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_CHECKSIG&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_EQUALVERIFY: check bng nhau gia &amp;lt;pubHashA&amp;gt; v &amp;lt;pubKeyHash&amp;gt;, chnh l check address&lt;/span&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr style=&#34;height: 0px;&#34;&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;true&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;Empty.&lt;/span&gt;
&lt;/td&gt;&lt;td style=&#34;border: 1px solid #aaaaaa; padding: 3px 3px 3px 3px; vertical-align: top;&#34;&gt;&lt;div dir=&#34;ltr&#34; style=&#34;line-height: 1; margin-bottom: 0pt; margin-top: 0pt;&#34;&gt;
&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;OP_CHECKSIG: check &amp;lt;sig&amp;gt; bng public_key&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;background-color: transparent; color: #434343; font-family: Arial; font-size: 11px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&#34;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;

&lt;p&gt;Nh vy, ch c Alice mi to c gi tin tiu s tin trong address ca mnh, v cng ch c Bob mi to c gi tin mi tiu s tin m Bob nhn c.&lt;/p&gt;

&lt;h3 id=&#34;c-blocks:c66977f06cc64c0193b8c0dd0c1bd023&#34;&gt;c. Blocks&lt;/h3&gt;

&lt;p&gt;Block l mt tp hp cc transaction, tha mn 1 s iu kin nht nh. Thng tin trong 1 block gm c:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;magic no: lun l&amp;nbsp;0xD9B4BEF9&lt;/li&gt;
&lt;li&gt;blocksize&lt;/li&gt;
&lt;li&gt;header

&lt;ul&gt;
&lt;li&gt;version&lt;/li&gt;
&lt;li&gt;hash previous block&lt;/li&gt;
&lt;li&gt;hash merkle block: hash ca tt c cc transaction&lt;/li&gt;
&lt;li&gt;time: thi gian&lt;/li&gt;
&lt;li&gt;target: target hin ti&lt;/li&gt;
&lt;li&gt;nonce: 1 s nguyn&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;cc transactions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Mt block th no l hp l? Block l hp l khi hash ca version + hashPrevBlock + hashMerkleBlock + time + target + nonce nh hn target. iu ny tri vi nhiu bi vit thng ni l cc peer s verify block, thc cht ra bt c ai cng c th verify block , v 1 block khi c announce cho ton mng th n  hp l.&lt;/p&gt;

&lt;p&gt; ni v chuyn tm block, th cn phi ni n cc miners v mining&lt;/p&gt;

&lt;h3 id=&#34;d-mining:c66977f06cc64c0193b8c0dd0c1bd023&#34;&gt;d. Mining&lt;/h3&gt;

&lt;p&gt;Mining l qu trnh miner i tm block, vi 1 ln tm thy block, miner s c hng 1 s tin nht nh (hin ti l 25BTC), v c nhn bi transaction u tin trong block: transaction khng c ngi gi v ngi nhn l miner. Transaction u tin ny gi l &lt;a href=&#34;https://en.bitcoin.it/wiki/Coinbase&#34;&gt;coinbase&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Vy miner tm ra 1 block nh th no? Trong 1 block th cc thng tin&amp;nbsp;version + hashPrevBlock + hashMerkleBlock + time + target&amp;nbsp;l c nh (tm gi l hashBase) v gi tr nonce l thay i. Miner s hash SHA256(SHA256(hashBase+0)), ra 1 gi tr, so snh gi tr ny vi target, nu nh hn th dng li, thng bo block cho ton mng, nu khng, tng nonce ln 1, tip tc hash&amp;nbsp;SHA256(SHA256(hashBase+0))cho n khi tm ra block.&lt;/p&gt;

&lt;p&gt; bit c  kh ca vic ny, ta th mt php tnh nh sau: gi s hashBase l &amp;ldquo;hello&amp;rdquo; v ta ch phi hash 1 ln&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;sha256(&amp;ldquo;hello0&amp;rdquo;)=5a936ee19a0cf3c70d8cb0006111b7a52f45ec01703e0af8cdc8c6d81ac5850c&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt; c 2 s 0  u, ta phi duyt nonce n 227&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;sha256(&amp;ldquo;hello227&amp;rdquo;)=001b92541ed0a22b0cb89018b561d895503206c0082c0ecf2d0b7e5182191eed&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt; c 4 s 0  u, ta phi duyt nonce n 60067&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;sha256(&amp;ldquo;hello60067&amp;rdquo;)=0000e49eab06aa7a6b3aef7708991b91a7e01451fd67f520b832b89b18f4e7de
 c 6 s 0  u, ta phi duyt n 33290382&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;sha256(&amp;ldquo;hello33290382&amp;rdquo;)=000000865194de5c0744d72183dcce2eca2b69264b749a1798f1b6996baef7de&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;S nonce ny tng ln rt nhanh, hin ti  nh hn target ta cn t nht 15 ch s 0  u&lt;/p&gt;

&lt;p&gt;Vy cht li, mining n gin l qu trnh tnh hash sha256, mi ln vi 1 s nonce khc nhau, cho n khi tm ra dy s hp l. Qu trnh tm nonce ny khng th tnh ton bng phng php s, m bt buc phi tnh sha256 tng ln mt, v vy n l proof-of-work.&lt;/p&gt;

&lt;p&gt;Cc miners thng tp hp li thnh 1 Pool, trong  pool s phn chia cc miner tnh, v d miner1 tnh nonce t 0-&amp;gt;1 t, miner2 tnh t 1 t-&amp;gt;2 t, mi block t 0-&amp;gt;1 t gi l 1 share, khi tm ra block, cc miner s c chia u da trn s share mnh submit c (cng nhiu share cng c chia nhiu). Thc t, share c hnh thnh phc tp hn, da trn nguyn tc sinh block nhng vi target thp hn, tuy nhin v bn cht n cng chnh l hnh thc phn chia vic tnh nonce ny.&lt;/p&gt;

&lt;h2 id=&#34;3-faq:c66977f06cc64c0193b8c0dd0c1bd023&#34;&gt;3. FAQ&lt;/h2&gt;

&lt;p&gt;Thc cht mng li Bitcoin v mt concept hot ng rt n gin,  l l do ti sao cc Altcoin ra i lin tc. Tuy nhin  hiu c n li cn mt s kin thc v tin hc nht nh,  l l do ti sao nhiu ngi cn cha bit n l g. Qua  ny sinh 1 s cu hi:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;a. By gi cm my Mining th c li ko?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&amp;nbsp;Mining  t lu khng cn l cuc chi ca CPU/GPU na m l ca cc my chuyn dng gi l ASIC. Cm my mine Bitcoin th chc chn ko bao gi c li: gi s bn c 1 card ATI HD 7850, vi  kh hin nay th cn 850 nm  tm ra 1 block, nu join vo pool th mi ngy bn c&amp;nbsp;0.0001 BTC l khong 0.06USD khong hn 1000 khng   tr tin in.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;b. Vy mua ASIC th sao?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&amp;nbsp;Cu tr li vn l khng, nu ASIC l c li th nhng ngi sn xut ASIC h bn ra lm g? Sao h khng gi my li v chy? a phn cc miner  u t ASIC t lu, v h chy ASIC ngoi nhim v mining kim tin, h cn gp 1 phn vo mng li mining,  h thng Bitcoin n nh lu di vi khon u t t lu ca h.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;c. Ly Bitcoin t u?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ging nh vng, c 2 cch  c vng l i o v i mua (hoc l i xin, coi nh l mua vi gi 0 ng)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;d. Vy sau khi o ht Bitcoin, c ai o na ko?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&amp;nbsp;Khi tm ra 1 block, ngoi tin thng th ngi o cn c hng s tin ph giao dch (hin nay ph giao dch thng l 0.001 BTC mi giao dch), v miner hon ton c th loi b cc transaction khng km ph trong . V vy khi khi lng giao dch nhiu ln th ph ny s tng ln tng ng.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;e. Qu trnh tnh ton khi tm ra Block c hu ch g ko?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Khng ging nh Folding@Home, qu trnh tnh ton block khng c hu ch g cho x hi, n nhm nhim v bo v mng li Bitcoin, v vy n ch hu ch cho Bitcoin m thi.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;f. Chp nhn Bitcoin lm th no?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Mt s third-party c cung cp dch v payment, v d nh Coinbase. Bn ch cn lm theo hng dn ca Coinbase, Coinbase s thc hin vic thanh ton v tr v cho bn tin mt (USD, EUR) m khng phi ng n Bitcoin.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Kt thc khong 3 tun c v vit lung tung v Bitcoin&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Silk Road v nhng iu bn cn bit</title>
      <link>http://blog.ntcong.it/post/silk-road-va-nhung-dieu-ban-can-biet/</link>
      <pubDate>Wed, 09 Oct 2013 21:06:00 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/silk-road-va-nhung-dieu-ban-can-biet/</guid>
      <description>&lt;p&gt;Nhn tin mt bui hp cng ngh v bt gp 1 dng ch &amp;ldquo;Silk road bo mt website nh th no?&amp;rdquo;, mnh pht hin ra 1 iu l mi ngi c bo v bit v Silk Road, ch ko h hiu n l ci g. V v th, li 1 bi chm gi ra i.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Vy, cu hi u tin, Silk Road l ci g?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Silk Road l mt ch en hot ng trn mng Tor.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;n y   gii p cho cu hi &amp;ldquo;Silk road bo mt website nh th no?&amp;rdquo;: cu tr li l &amp;ldquo;Silk Road khng h bo mt website&amp;rdquo;&lt;/p&gt;

&lt;p&gt;Nu vy th l do g  c Silk Road? Silk Road c sinh ra nhm mc ch bo v thng tin ngi s dng, v vy Silk Road  s dng nhng thnh phn sau:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Tor network: ni 1 cch n gin th Tor gip ngi s dng giu i tt c mi th: location, usage&amp;hellip;nhm mc ch ngn chn vic iu tra ra ngi dng bng hnh vi trn mng. y l bc th nht: lin h&lt;/li&gt;
&lt;li&gt;PGP: Mi dealer trn BitCoin u s dng PGP  giao dch mua bn, qua  dealer s cp 1 public key, nhng ngi lin h vi dealer s encrypt a ch, thng tin v message bng public key , v ch dealer c private key mi gii m  c c. y l bc th 2: giao dch&lt;/li&gt;
&lt;li&gt;BitCoin: BitCoin l mt loi tin c cho l&amp;nbsp;pseudo-anonymous, cc giao dch trn BitCoin c m ha v khng thng qua mt my ch tp trung no. Ngoi ra SilkRoad cn cung cp 1 tumbler, c s dng nh mt trung gian th 3 nhn tin v gi tin. y l bc th 3: tr tin.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Nh vy, mt giao dch hon ton c bo mt v dealer ln buyer u anonymous.  chnh l l do Silk Road tn ti: to lp mt sn chi, ch khng phi l mt shop bun bn drug.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Vy, l do ti sao ti dm chm gi l Silk Road khng h bo mt website?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Nu bn lm thi gian v tha d hi nh ti th c th c &lt;a href=&#34;http://www1.icsi.berkeley.edu/~nweaver/UlbrichtCriminalComplaint.pdf&#34;&gt;ci ny&lt;/a&gt;. Mt s im quan trng:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;23&amp;#47;07/2013, FBI  c mt bn hon thin website Silk Road, trong  c user account v thng tin giao dch&lt;/li&gt;
&lt;li&gt;FBI  nm c&amp;nbsp;1,217,218 message trao i trn mng li Silk Road t 24&amp;#47;5-&amp;gt;23&amp;#47;07/2013.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;a phn thng tin trong ny khng c  ngha, v nhng iu c nhc ti  trn: bo mt giao dch, khng bo mt website  mc cao cp (ch c d hi mi tin l n khng lm g  bo mt website c). Tt nhin mt s ngi stupid khng dng PGP th s b bt.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;L do ti sao admin trang ny, DPR b bt&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Ngi u tin qung b Silk Road vo nm 2011, c bit n qua iu tra tn l &amp;ldquo;altoid&amp;rdquo;&amp;nbsp;&lt;/li&gt;
&lt;li&gt;11&amp;#47;2011, mt ngi tn altoid post trn Bit Coin Talk, ng tm ngi v dn n email ti gmail &amp;ldquo;rossulbricht&amp;rdquo;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;T y, FBI rt d dng iu tra ra&lt;strong&gt;&amp;nbsp;Ross William Ulbricht&lt;/strong&gt;, ngi sng lp trang web, bng rt nhiu ngun khc nhau:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;LinkedIn, Google+, Youtube u t ci tn m b truy ra&lt;/li&gt;
&lt;li&gt;Dng VPN log-in vo server Silk Road, t  b truy ra a ch nh&lt;/li&gt;
&lt;li&gt;B iu tra ra s dng rt nhiu ID gi&lt;/li&gt;
&lt;li&gt;Post trn Stack Overflow vi tn tht v hi v Tor, sau  sa tn thnh frosty, trng tn vi SSH public key c lu trn server Silk Road (stupid)&lt;/li&gt;
&lt;li&gt;Cng vi nhiu bin php nghip v khc.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;V vy, s dng VPN ch l mt trong nhng iu khin cho DPR b bt, ch khng phi l nguyn nhn, bi v mt khi  b bt tn v ci nh, th chc chn l khng c l do g  thot c.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Kt lun&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Silk Road l mng li ch en, thnh cng ca n nm  ch bo v thng tin ngi mua bn, ch khng phi l bo mt website&lt;/li&gt;
&lt;li&gt;DPR b bt v nhng sai lm rt cn bn v t rt lu, tt c u lin quan n anonymity.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Bi hc c rt ra l: ng phm ti, nu c phm ti th cng ng ngu nh thng ny.&lt;/p&gt;

&lt;p&gt;Thng tin c tng hp bi mt redditor thnh thong vo /r/Bitcoin v /r/SilkRoad (tt nhin l khng h c tham gia mua bn g)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Bitcoin - Ngi ta  lm ra n nh th no</title>
      <link>http://blog.ntcong.it/post/bitcoin-nguoi-ta-lam-ra-no-nhu-the-nao/</link>
      <pubDate>Thu, 12 Sep 2013 16:06:44 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/bitcoin-nguoi-ta-lam-ra-no-nhu-the-nao/</guid>
      <description>

&lt;p&gt;Bitcoin khng cn l mi, n  xut hin c vi nm nay. Nhng ch trong thi gian gn y n mi bng n thnh mt hnh thc thanh ton cc k tin li.&lt;/p&gt;

&lt;p&gt;Bitcoin l mt cryptocurrency,  hiu c mt cch chnh xc Bitcoin l g cn mt lng kin thc v software, crypto, network nht nh. Tuy nhin chng ta c th tip cn Bitcoin  hiu n nh mt ngi s dng &amp;ldquo;c hiu bit&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;Nh vy, Bitcoin c hnh thnh trn nhng concept g?&lt;/p&gt;

&lt;h2 id=&#34;1-m-hnh-khng-tp-trung:9c6ec2a66c173599131eabd88ab51061&#34;&gt;1. M hnh khng tp trung&lt;/h2&gt;

&lt;p&gt;Tin mt thng thng c lu qua cc ti khon. Vic bn gi tin t ti khon ca mnh sang ti khon ngi khc c thc hin thng qua vic gp trc tip, hoc qua ngn hng.&lt;/p&gt;

&lt;p&gt;Ngn hng s lm nhim v kim tra tin ca bn c tht khng, c hp php khng; m bo vic chuyn tin gia bn v ngi kia l duy nht (khng c chuyn gi 2 ln); m bo rng bn khng th chuyn tin cho ngi kia ri sau  ly li chuyn cho ngi khc m khng c l do. Ngoi ra tin ca bn cng khng t nhin m c, cng phi c mt ai  in n ra, cp cho bn qua mt hnh thc no .&lt;/p&gt;

&lt;p&gt;Bitcoin c sinh ra vi mc tiu khng c ai l n v qun l tp trung n c, tc l s khng c ai kim tra tin  c tht khng, khng ai m bo rng bn khng chuyn tin 2 ln c. V vy n phi sinh ra mt s phng php  phc v mc ch ny.&lt;/p&gt;

&lt;h2 id=&#34;2-nh-danh-ngi-ch-k-in-t:9c6ec2a66c173599131eabd88ab51061&#34;&gt;2. nh danh ngi - Ch k in t&lt;/h2&gt;

&lt;p&gt;Vic u tin trong qu trnh chuyn mt cc tin in t, l xc nh xem ngi gi v ngi nhn l ai. n c nh dng Facebook th phi login, dng ngn hng th phi xut th CMND. Gi s, bn A mun gi cho bn B mt ng tin, bn y s vit &amp;ldquo;Ti, tn l A, gi cho B 1 ng&amp;rdquo;. Lm th no  bn B bit chc chn rng  l t bn A gi?&lt;/p&gt;

&lt;p&gt;iu ny c thc hin bng mt thut ng gi l &lt;strong&gt;public-key cryptography&lt;/strong&gt;, tng t nh vic ng du. Bn c mt con du v cung cp ci hnh con du cho mi ngi bit, mt khi mi ngi nhn thy vn bn c ng du, tc l ti liu   c tin tng rng do bn vit ra (coi nh l con du khng th lm gi). Tng t nh vy, i vi public-key crypto, bn c mt private-key (con du) v mt public-key (hnh). Bn s k bng private-key vo dy &amp;ldquo;Ti, tn l A, gi cho B 1 ng&amp;rdquo; ra mt vn bn khc. Ngi nhn khi nhn c vn bn , s dng public-key  gii m ra c &amp;ldquo;Ti, tn l A, gi cho B 1 ng&amp;rdquo;. Nh vy, thng tin giao dch chc chn  c m bo, bt c ai cng c th bit A gi cho B 1 ng, nhng khng th c con du  gi thng bo  c.&lt;/p&gt;

&lt;h2 id=&#34;3-nh-danh-tin:9c6ec2a66c173599131eabd88ab51061&#34;&gt;3. nh danh tin&lt;/h2&gt;

&lt;p&gt;Liu, khi bn A gi &amp;ldquo;Ti, tn l A, gi cho B 1 ng&amp;rdquo; cho B, sau  B gi lin tc thng bo ny i, th A c b mt tin nhiu ln khng? iu ny c gii quyt mt cch rt n gin, mi ng tin s c mt ci tn nht nh: &amp;ldquo;Ti, tn l A, gi cho B 1 ng vi m s 007&amp;rdquo;. Tt nhin B c gi thng bo ny i bao nhiu ln th cng ch c ng 007 ny c gi cho B m thi.&lt;/p&gt;

&lt;p&gt;Tuy nhin, lm th no  B bit c ng tin 007 ny l tht? A hon ton c th gi cho B mt ng tin gi, thng thng B c ngn hng  hi, trong trng hp ny th B phi lm th no?&lt;/p&gt;

&lt;p&gt;Bitcoin s dng mt h thng cy giao dch gi l &amp;ldquo;block chain&amp;rdquo;, nhn mt cch n gin th vic kim tra ny c thc hin bng cch: B s tra ngc v u, gi s c mt bn X gi cho A ng 006, sau  A i l 007 gi cho B, th B s kim tra xem ng 006 c phi l tht khng. Tng t th B check ng 005 l b ca 006, ri 004 l b 005, n khi no B tra c n gc ca n  m bo n l tht.&lt;/p&gt;

&lt;p&gt;Tuy nhin iu ny khng ngn c vic A t ng 006 t ra 2 m s cho ng tin  l 007 v 008, sau  ng thi gi cho B v C. C B v C s cng kim tra block chain, v u tm v ng 005 ri 004 v tng n l tht. Khi nim ny gi l &amp;ldquo;double-spending&amp;rdquo;.&lt;/p&gt;

&lt;p&gt; chc chn rng A khng &amp;ldquo;double-spending&amp;rdquo;, h thng cn m bo c c B v C khi tra nh danh ng tin  u tra t mt im chung duy nht. Vic m bo ny c thc hin thng qua c ch &amp;ldquo;proof-of-work&amp;rdquo;&lt;/p&gt;

&lt;h2 id=&#34;4-proof-of-work:9c6ec2a66c173599131eabd88ab51061&#34;&gt;4. Proof of work&lt;/h2&gt;

&lt;p&gt;Proof of work, nm na gi l &amp;ldquo;bng chng v cng vic&amp;rdquo;, l mt m hnh c t ra nhm m bo rng,  A sinh ra c m 007 v 008, A hoc mt ngi no  phi b mt cng sc nht nh m rt kh lm c 2 ln (v d bt A chy 100km ri mi cho A ly tin). Tt nhin chuyn A chy 100km l kh, hoc A cng c th chy 200km ri sinh ra 2 m kim tin,  cng l mt vn  m ta s nhc n sau.&lt;/p&gt;

&lt;p&gt;Qu trnh ny gi l qu trnh kim nh, qua  s c mt s ngi kim nh nht nh (bao gm c A v B), nhng ngi ny s thc hin vic chy 100km ny, sau  k vo v xc nhn vic X gi cho A, hay A gi cho B l tin c ti thi im .&lt;/p&gt;

&lt;p&gt;Nh vy, khi ta thy mt ng tin, ta m bo rng b ca n  phi b mt s cng sc c c n, mt cch no  ta tin rng vic chuyn t 006-&amp;gt;007 l &lt;strong&gt;tm tin c.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Quay li v d trn, gi s ng s hu ng 006 l ng X c ng 005 chy 200km v in ra 2 ng l 006 gi cho A v 006&amp;rsquo; gi cho Y. Sau  c 10 ngi k rng tin l X chuyn sang A l hp l, v 3 ngi k vo l X gi cho Y l hp l. Nh vy ng tin ny  c &lt;strong&gt;tm tin&lt;/strong&gt;&amp;nbsp;bi X v A, v nh th vic gi cho A l &lt;strong&gt;tm hp l&lt;/strong&gt;, cn tin s hu ca Y l khng hp l. Nh vy Y hay B c th n gin trnh vic b la bng cch i mt s ngi k vo giao dch  ri mi tin l mnh c nhn tin. &amp;nbsp;Ngi kim nh thng ghp nhiu giao dch vo kim nh mt th, v sau khi hon thnh vic kim nh, ngi  c thng mt s tin nht nh cng vi ph giao dch.&lt;/p&gt;

&lt;p&gt;Bitcoin s dng c ch crypto, nhn mt cch n gin, th Bitcoin yu cu ngi mun kim chng giao dch phi tm mt dy sha256: sha256(data+number), trong  data l thng tin giao dch: &amp;ldquo;Ti, tn l A, gi cho B 1 ng vi m s 007&amp;rdquo; v number l mt s bt k, sao cho sha256(data+number) phi bt u bng mt s lng s 0 nht nh. Vic ny l rt mt cng v yu cu ngi kim nh phi tm ra s , sau khi tm ra mt dy s tha mn, gi l mt &lt;strong&gt;block&lt;/strong&gt;, th ngi ny c hng 50 ng Bitcoin (gim xung theo thi gian, hin nay l 25 ng).&lt;/p&gt;

&lt;p&gt;Nh vy, ng thi vi vic kim tra giao dch, ta cng gii quyt c vn  &lt;strong&gt;in v cp tin&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&#34;5-bitcoin:9c6ec2a66c173599131eabd88ab51061&#34;&gt;5. Bitcoin&lt;/h2&gt;

&lt;p&gt;Nh vy, Bitcoin c t chc nh th no?&lt;/p&gt;

&lt;p&gt;Mi ngi s c mt ci v in t, gi l &lt;strong&gt;wallet&lt;/strong&gt;, &amp;nbsp;mi v ny s c nhiu a ch (nh mt ngn v), mi a ch ny cha 1 s tin nht nh, gi l &lt;strong&gt;address.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Vic giao dch tin t mt address ca ngi ny sang address ngi khc gi l mt &lt;strong&gt;transaction.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Cc giao dch ny c ghp li v kim nh, kt hp vi s tm c tha mn iu kin, thnh mt &lt;strong&gt;block.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Nhng ngi kim nh, tm block vi mc tiu c thng tin, gi l &lt;strong&gt;miners.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Nhng block c kt ni vi nhau thnh mt cy, block sau cha dy serial ca block trc, cy ny gi l &lt;strong&gt;block chain.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&#34;6-kt-lun:9c6ec2a66c173599131eabd88ab51061&#34;&gt;6. Kt lun&lt;/h2&gt;

&lt;p&gt;Tuy  gii quyt c phn ln vn  ca mt ng tin in t. Bitcoin vn c rt nhiu vn  cn tn ti:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Nu nh A mua ton b ngi kim nh (thc ra ch cn mua trn 50%), th A hon ton c th sinh ra 2 ng tin t mt ng vi s ch k l nh nhau, ngi nhn sau  l B khng th kim tra c  c phi l tin hp l hay khng.&lt;/li&gt;
&lt;li&gt;Trong qu trnh hnh thnh ng tin, s c rt t ngi thc hin vic kim nh, v vy h thng cn t kh nng tm c &lt;strong&gt;block&lt;/strong&gt; l d dng, vic ny rt d gy ra chuyn tm ra 2 block mt lc v vic chn 1 trong 2 block s gy ra block cn li cng vi nhng ngi cng nhn n b mt cng sc (i km vi vic s khng kim chng c giao dch trong thi gian ngn)&lt;/li&gt;
&lt;li&gt;a ch l public, ton b giao dch cng c theo di mt cch tha mi. V vy vic b theo di nh cp l hon ton c th. Wallet li ch l mt dy s, rt nguy him khi b nh mt.&lt;/li&gt;
&lt;li&gt;Ton b giao dch u thng qua Network, rt d b tn cng bi DDOS, hoc b lc cc gi tin khin thng tin v block b thiu st, d b tn cng double-spending&lt;/li&gt;
&lt;li&gt;Vic to ra tin: block l do cc my ngang hng thc hin, v vy hacker c th d dng thay i cc thng s khin cho block to ra bi cc my ny l khng s dng c (v d thay i gi tin ntp khin cc node nhn sai gi, khin cho block c to ra vi thi gian chm hn thi gian tht)&lt;/li&gt;
&lt;li&gt;Blockchain cha thng tin ca ton b cc block lin kt vi nhau, v vy client cn phi lu tr vi dung lng ln (i vi Bitcoin hin nay l khong 15GB).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Mong rng bi vit sau s lm r hn v giao thc ca Bitcoin v mt technical mt cch nng cao hn.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Phim bn chuyn t tn</title>
      <link>http://blog.ntcong.it/post/chuyen_dat_ten/</link>
      <pubDate>Mon, 21 Jan 2013 16:18:00 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/post/chuyen_dat_ten/</guid>
      <description>&lt;p&gt;Code mnh vit ra cng nh con  ca mnh vy, chuyn t cho n ci tn  gi l chuyn v cng quan trng. t tn sao  cho tn n hay, c  ngha, li cn phi  ngi khc d gi, cha k l cn phi trnh tn d suy lun khng l bn b ca con n chi xo.&lt;/p&gt;

&lt;p&gt;Chc 100% ngi ng vo code u bit my kiu t tn h:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;vit_thng_km_gch_di&lt;/li&gt;
&lt;li&gt;VitHoaChCiu&lt;/li&gt;
&lt;li&gt;VIT_HOA_KM_GCH&lt;/li&gt;
&lt;li&gt;mt vi loi bin th khc&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ngoi ra mt s quy tc khc nh tn bin int th bt u bng ch i, class bt u bng cls, ri th l const th vit hoa tt, quy tc th c l ch dnh cho project manager ngi ba ra vit ti liu ri cho cc bn c, c xong ri nh p dng l xong.&lt;/p&gt;

&lt;p&gt; phim bn th bn ci g cho n hay t, gi l &lt;strong&gt;&amp;ldquo;t tn mt cch thng minh&amp;rdquo;.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;u tin c l cn trch n nguyn tc t tn ca Golang: short, concise, evocative; tm dch l ngn gn, sc tch v to n tng.&lt;/p&gt;

&lt;p&gt;Ngn gn nhng sc tch l mt im n rt kh khi t tn, mt vi v d nh:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; &lt;strong&gt;setup_and_run(new_work, job)&lt;/strong&gt; : ngn gn, y , r ngha&lt;/p&gt;

&lt;p&gt;do_setup_and_run: ai ch bit l lm ?&lt;/p&gt;

&lt;p&gt;setup_new_and_run:  setup&amp;hellip;(new_work) ri li cn c new  tn.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; &lt;strong&gt;io.NewIO(),&lt;/strong&gt; &lt;strong&gt;Device.NewDevice():&lt;/strong&gt; trong package A c hm NewA l mt li kh ph bin, cch t tha tn ny dn n vic c code rt l cng thng.&lt;/p&gt;

&lt;p&gt;Trnh iu ny rt n gin, ta c th dng io.New() nu cn lm 1 s vic v tr v object IO, hoc s dng trc tip io.IO()&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; &lt;strong&gt;god.Do(action)&lt;/strong&gt; &lt;strong&gt;v&lt;/strong&gt; &lt;strong&gt;_god.DoOrWaitTilDone(action):&lt;/strong&gt; cch gi th 2 tuy gii thch c vic hm ny s thc hin hoc ch nu action  ang thc hin, tuy nhin vic ny nn t trong comment th hn l t vo tn. Nn nh ni di l ni di.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;4. from what import what_exception:&lt;/strong&gt; hay thng c bit n vi dng from what.what_exception import WhatNotFound. Ti sao li l what.what&lt;em&gt;exception ? B ci on what&lt;/em&gt; c lm n kh hiu hn ko ? C l t ai cng hiu: from what.exception import WhatNotFound&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;5. from what.exception import WhatNotFound&lt;em&gt;Exception&lt;/em&gt;&lt;/strong&gt;: ti sao ??? WhatNotFound tt, WhatError tt, WhatYeahException tt, NotFoundException va trng lp li kh nh.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;6. User.username, User.user_email:&lt;/strong&gt; khi ni chc ai cng bit l tha, User.name, User.email l 2 ci tn ngn gn v tt hn rt nhiu&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;7. from devices.device import Device:&lt;/strong&gt; move Device import qua &lt;strong&gt;init&lt;/strong&gt; l cch trnh tnh trng ny rt d dng, nn  n l from devices import Device&lt;/p&gt;

&lt;p&gt;Vy, trnh vic t tn xu nh th no?&lt;/p&gt;

&lt;p&gt;Thc ra, tn xu ngay bn thn n  th hin c cch trnh,  l ci tn th phi c, c ln thy&amp;hellip;xu th phi suy ngh ngay:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1. Tn qu di:&lt;/strong&gt; t 1 ci tn xong thy n qu di, hy c li th 1 ln na xem n c vn  g khng. ng qu ham nht nhiu thng tin vo tn bin, tn hm. Sc tch khng c ngha l y  thng tin. Dnh thi gian tha khi ngh tn vo vic vit document hoc comment cho r rng.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2. Tn lp li qu nhiu:&lt;/strong&gt; khi gi vo bin  hoc hm , bn thy rng c 1 t ang lp li 2 ln hay thm ch 3 ln, dng li v ngh xem ti sao n lp li, v vic lp li  c  ngha g khng. iu ny ng vi c t trng ngha lp li nh NotFoundException.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3. Tn c thy&amp;hellip;tro li:&lt;/strong&gt; tn xu, v d nh earth.create_a_new_god(), cha c  thy n tro c li ri, earth.new_god() c l s tt hn rt nhiu, ch cn ch  mt cht  sa.&lt;/p&gt;

&lt;p&gt;Cui cng, code mnh code ra, tn mnh t, con mnh mnh nui, th nn ch  cho n ci tn hay mt cht, sau ny c chuyn cho ai nui th ngi ta cng thch. Tt nhin cng ng c ngh nhiu qu, i khi cng cn mt &lt;em&gt;&amp;ldquo;ngoi l&amp;rdquo;&lt;/em&gt; nho nh, bi v d sao, mnh t tn ra th mnh l ngi gi nhiu nht, t theo  ngi khc cng ch vui g.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;&lt;em&gt;Bi vit by vit b nh du 2 nm khng blog&lt;/em&gt;&amp;nbsp;&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>About me</title>
      <link>http://blog.ntcong.it/about/</link>
      <pubDate>Wed, 05 Dec 2012 14:32:48 +0700</pubDate>
      <author>ntcong.it@gmail.com (Cong Nguyen)</author>
      <guid>http://blog.ntcong.it/about/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m a system engineer from Vietnam. In this blog I write mostly about my finding/tricks/anything about programming and security to improve my skills. I&amp;rsquo;m not a good writer &lt;em&gt;and&lt;/em&gt; my English is bad but I&amp;rsquo;m trying write anyway. Maybe my posts are a little rough (or just plain bad), but no one actually reads it so who cares :)&lt;/p&gt;

&lt;p&gt;My contact information is in the footer, drop me an email if you want to talk more about computer, or have some project I can contribute to (I love FOSS anyway).&lt;/p&gt;

&lt;p&gt;Other than Vietnamese and English, I prefer to talk in Python and Go, and I use Vim (in Emacs, that&amp;rsquo;s evil huh?).&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>